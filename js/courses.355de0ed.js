(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["courses"],{"1a2f":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("courses-search"),s("courses-filter"),s("courses-list")],1)},i=[],r=(s("cadf"),s("551c"),s("097d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-jumbotron",{style:{height:t.$vuetify.breakpoint.xs?"80px":"100px"},attrs:{color:"primary",gradient:"220deg,#2C3E50 -10%,#4CA1AF 70%"}},[s("v-container",{staticStyle:{"max-width":"1000px"},attrs:{"fill-height":""}},[s("v-layout",{staticStyle:{"max-width":"700px"},attrs:{"align-center":""}},[s("v-flex",[s("v-text-field",{attrs:{label:"課名／時間／老師／科號",solo:"","hide-details":"","append-icon":"search"},on:{"click:append":t.doSearch,keypress:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.doSearch(e):null}},model:{value:t.preSearch,callback:function(e){t.preSearch=e},expression:"preSearch"}})],1)],1)],1)],1)}),n=[],l=(s("386d"),s("c93e")),o=s("2f62"),c={name:"CoursesSearch",data:function(){return{preSearch:""}},computed:Object(l["a"])({},Object(o["e"])(["search"])),methods:Object(l["a"])({},Object(o["d"])(["setSearch"]),{doSearch:function(){this.preSearch.trim()!==this.search.trim()&&(this.setSearch(this.preSearch),this.$store.dispatch("doSearch"))}})},u=c,v=(s("ae61"),s("2877")),d=Object(v["a"])(u,r,n,!1,null,null,null);d.options.__file="Search.vue";var p=d.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"blue-grey lighten-5"},[s("v-container",{staticStyle:{"max-width":"1000px"}},[s("h3",{staticClass:"subheading"},[s("span",[t._v(t._s(t.results.length+" 個搜尋"))]),s("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.filter.search))]),t._v("結果\n    ")]),s("div",[s("filter-dialog",{attrs:{color:t.$vuetify.breakpoint.xs&&t.chips.length?"primary":"secondary"}}),t.$vuetify.breakpoint.xs?t._e():s("v-menu",{attrs:{"offset-y":"","close-on-content-click":!1}},[s("v-btn",{attrs:{slot:"activator",outline:"",color:"secondary"},slot:"activator"},[t._v("\n          分類\n          "),s("v-icon",{attrs:{right:""}},[t._v("arrow_drop_down")])],1),s("v-list",{attrs:{dense:""}},t._l(t.categoryOptions,function(e,a){return s("v-list-tile",{key:a},[s("v-list-tile-action",[s("v-checkbox",{attrs:{value:e[0],label:e[0]+" ("+e[1]+")"},model:{value:t.categories,callback:function(e){t.categories=e},expression:"categories"}})],1)],1)}))],1)],1),t.$vuetify.breakpoint.xs?t._e():s("div",[t._l(t.chips,function(e,a){return s("v-chip",{key:a,staticClass:"grey darken-1 white--text",class:{"ml-0":0===a}},[t._v("\n        "+t._s(e.text)+"\n        "),s("v-icon",{staticStyle:{color:"rgba(255,255,255,.7)"},attrs:{right:""},on:{click:function(s){t.closeChip(e)}}},[t._v("highlight_off")])],1)}),t.chips.length>1?s("v-btn",{staticClass:"mx-0",attrs:{small:"",flat:"",color:"primary"},on:{click:t.clearAll}},[t._v("清除全部")]):t._e()],2)])],1)},f=[],h=(s("6762"),s("2fdb"),s("8afe")),b=(s("6b54"),s("55dd"),s("456d"),s("ac6a"),s("6c7b"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{scrollable:"",fullscreen:t.$vuetify.breakpoint.xs,width:"600"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[s("v-btn",{staticClass:"ml-0 my-3",attrs:{slot:"activator",outline:"",color:t.color},slot:"activator"},[s("v-icon",{attrs:{left:"",dark:""}},[t._v("filter_list")]),t._v("\n    篩選器\n  ")],1),s("v-card",[s("v-card-title",[t._v("篩選器")]),s("v-divider"),s("v-card-text",{staticClass:"pa-0",staticStyle:{"min-height":"calc(100% - 107px)","-webkit-overflow-scrolling":"touch"}},[s("v-tabs",{attrs:{color:"cyan","slider-color":"yellow",dark:""}},[s("v-tab",[t._v("一般")]),s("v-tab",[t._v("時間")]),s("v-tab-item",[s("v-container",{staticClass:"pb-0"},[s("v-layout",{attrs:{wrap:""}},[t.$vuetify.breakpoint.xs?s("v-flex",{staticClass:"mb-3",attrs:{xs12:"",sm4:""}},[s("h4",{staticClass:"mb-2"},[t._v("類別")]),t._l(t.categoryOptions,function(e){return s("v-checkbox",{key:e[0],staticClass:"mt-0",attrs:{value:e[0],"hide-details":"",label:e[0]+" ("+e[1]+")"},model:{value:t.categories,callback:function(e){t.categories=e},expression:"categories"}})})],2):t._e(),s("v-flex",{staticClass:"mb-3",attrs:{xs12:"",sm4:""}},[s("h4",{staticClass:"mb-2"},[t._v("學分")]),t._l(t.creditOptions,function(e){return s("v-checkbox",{key:e[0],staticClass:"mt-0",attrs:{value:e[0],"hide-details":"",label:e[0]+" ("+e[1]+")"},model:{value:t.credits,callback:function(e){t.credits=e},expression:"credits"}})})],2),s("v-flex",{staticClass:"mb-3",attrs:{xs12:"",sm4:""}},[s("h4",{staticClass:"mb-2"},[t._v("授課語言")]),t._l(t.languageOptions,function(e){return s("v-checkbox",{key:e[0],staticClass:"mt-0",attrs:{value:e[0],"hide-details":"",label:e[0]+" ("+e[1]+")"},model:{value:t.languages,callback:function(e){t.languages=e},expression:"languages"}})})],2),s("v-flex",{staticClass:"mb-3",attrs:{xs12:"",sm4:""}},[s("h4",{staticClass:"mb-2"},[t._v("開課單位")]),t._l(t.departmentOptions.slice(0,t.departmentOptionLimit),function(e){return s("v-checkbox",{key:e[0],staticClass:"mt-0",attrs:{value:e[0],"hide-details":"",label:e[0]+" ("+e[1]+")"},model:{value:t.departments,callback:function(e){t.departments=e},expression:"departments"}})}),t.departmentOptionLimit<t.departmentOptions.length?s("v-btn",{staticClass:"mx-0",attrs:{small:"",flat:"",color:"primary"},on:{click:function(e){t.departmentOptionLimit+=4}}},[t._v("更多")]):t._e()],2)],1)],1)],1),s("v-tab-item",[s("v-container",[s("h4",{staticClass:"mb-2"},[t._v("空堂時間")]),t._l(14,function(e){return s("v-layout",{key:e,staticClass:"time-table",attrs:{wrap:""}},t._l(6,function(a){return s("v-flex",{key:a,attrs:{xs1:1===a,"text-xs-center":""}},[1===e||1===a?s("span",{staticStyle:{"line-height":"32px"}},[t._v("\n                  "+t._s(1===e?t.columnHeaders[a-1]:t.rowHeaders[e-1])+"\n                ")]):s("v-checkbox",{staticClass:"mt-0",attrs:{value:""+t.columnHeaders[a-1]+t.rowHeaders[e-1],"hide-details":""},model:{value:t.times,callback:function(e){t.times=e},expression:"times"}})],1)}))})],2)],1)],1)],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{flat:""},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")]),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.applyFilter}},[t._v("套用")])],1)],1)],1)}),g=[],_=["","M","T","W","R","F"],y=["","1","2","3","4","n","5","6","7","8","9","a","b","c"],x={name:"CoursesFilterDialog",props:{color:{type:String,default:"secondary"}},data:function(){return{dialog:!1,departmentOptionLimit:3,columnHeaders:_,rowHeaders:y,categories:[],credits:[],languages:[],departments:[],times:[]}},computed:Object(l["a"])({},Object(o["e"])(["filter"]),Object(o["c"])(["option"]),["categoryOptions","creditOptions","languageOptions","departmentOptions"].reduce(function(t,e){return t[e]=function(){return this.option[e]},t},{}),{dialogVisible:{get:function(){return this.dialog},set:function(t){if(t){var e=this.filter,s=e.categories,a=e.credits,i=e.languages,r=e.departments,n=e.times;this.categories=s.slice(),this.credits=a.slice(),this.languages=i.slice(),this.departments=r.slice(),this.times=n.slice()}else this.departmentOptionLimit=3;this.dialog=t}}}),methods:Object(l["a"])({},Object(o["b"])(["doFilter"]),Object(o["d"])(["setFilter"]),{applyFilter:function(){var t=this.categories,e=this.credits,s=this.languages,a=this.departments,i=this.times;this.setFilter({categories:t,credits:e,languages:s,departments:a,times:i}),this.doFilter(),this.dialogVisible=!1}})},k=x,O=(s("8906"),Object(v["a"])(k,b,g,!1,null,null,null));O.options.__file="FilterDialog.vue";var w=O.exports,C=["M","T","W","R","F"],S=["1","2","3","4","n","5","6","7","8","9","a","b","c"],j=new Array(65).fill(0).map(function(t,e){return"".concat(C[e/13>>0]).concat(S[e%13])}).reduce(function(t,e,s){return t[e]=s,t},{}),F={name:"CoursesFilter",components:{"filter-dialog":w},computed:Object(l["a"])({},Object(o["e"])(["filter","results"]),Object(o["c"])(["option"]),{categoryOptions:function(){return this.option.categoryOptions},categories:{get:function(){return this.filter.categories},set:function(t){this.setFilter({categories:t}),this.doFilter()}},chips:function(){var t=[],e=this.filter;return Object.keys(e).forEach(function(s){if("times"===s){var a=e.times;a.length&&(a.sort(function(t,e){return j[t]-j[e]}),t.push({filter:"times",text:a.toString(),value:a}))}else"credits"===s?t.push.apply(t,Object(h["a"])(e[s].map(function(t){return{filter:s,text:"".concat(t," 學分"),value:t}}))):t.push.apply(t,Object(h["a"])(e[s].map(function(t){return{filter:s,text:t,value:t}})))}),t}}),methods:Object(l["a"])({},Object(o["b"])(["doFilter"]),Object(o["d"])(["clearFilter","setFilter"]),{closeChip:function(t){var e={};e[t.filter]=Array.isArray(t.value)?this.filter[t.filter].filter(function(e){return!t.value.includes(e)}):this.filter[t.filter].filter(function(e){return t.value!==e}),this.setFilter(e),this.doFilter()},clearAll:function(){this.clearFilter(),this.doFilter()}})},$=F,V=Object(v["a"])($,m,f,!1,null,null,null);V.options.__file="Filter.vue";var I=V.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticStyle:{"max-width":"1000px"}},[a("courses-sort"),a("v-data-iterator",{staticStyle:{"max-width":"700px"},attrs:{pagination:t.pagination,"rows-per-page-text":"每頁筆數",items:t.results},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"item",fn:function(e){return a("v-card",{staticClass:"my-3 transparent",staticStyle:{cursor:"pointer"},attrs:{flat:""},nativeOn:{click:function(s){t.openViewDialog(e.item.course_no)}}},[a("v-layout",[a("v-flex",{staticStyle:{flex:"0 0 auto",width:"20%","max-width":"80px"}},[a("v-card-media",{attrs:{src:s("03e5")("./"+t.mapDept2Img[e.item.course_no.slice(5,9)]),width:"80px",height:"80px",contain:""}}),a("v-tooltip",{staticStyle:{position:"absolute",top:"-8px"},attrs:{bottom:""}},[e.item.reco?a("v-chip",{staticClass:"chip caption font-weight-medium",attrs:{slot:"activator",label:"",color:"primary","text-color":"white",small:""},slot:"activator"},[t._v("\n              推\n            ")]):t._e(),a("span",{domProps:{innerHTML:t._s("修過"+e.item.recoReasons.join("、")+"的人都考不錯")}})],1)],1),a("v-flex",[a("v-card-title",{staticClass:"py-0"},[a("div",{staticStyle:{width:"100%"}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("span",{staticClass:"subheading font-weight-medium"},[t._v(t._s(e.item.course_title_zh))]),a("div",{staticClass:"body-1"},[t._v("\n                    "+t._s(e.item.credit+" 學分．"+e.item.time+"．人數 "+e.item.enrollment+"/"+e.item.size_limit)+"\n                  ")]),a("div",{staticClass:"body-1 grey--text"},[t._v(t._s(e.item.teachers))]),a("v-layout",{attrs:{"align-center":""}})],1),t.$vuetify.breakpoint.smAndUp?a("v-flex",{attrs:{sm6:""}},[a("v-layout",{attrs:{"align-end":"",column:""}},[a("h3",[t._v(t._s(e.item.averageGrade+" 分"))]),a("div",[t._l(5,function(s){return[Number.parseInt(e.item.averageGrade)<t.starIntervals[2*(s-1)]?a("v-icon",{key:s,attrs:{small:"",color:"yellow darken-3"}},[t._v("star_border")]):Number.parseInt(e.item.averageGrade)<t.starIntervals[2*(s-1)+1]?a("v-icon",{key:s,attrs:{small:"",color:"yellow darken-3"}},[t._v("star_half")]):a("v-icon",{key:s,attrs:{small:"",color:"yellow darken-3"}},[t._v("star")])]})],2),a("span",{staticClass:"caption grey--text"},[t._v(t._s("("+e.item.totalStudent+" 位同學平均)"))])])],1):a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{"align-center":""}},[t._l(5,function(s){return[Number.parseInt(e.item.averageGrade)<t.starIntervals[2*(s-1)]?a("v-icon",{key:s,attrs:{small:"",color:"yellow darken-3"}},[t._v("star_border")]):Number.parseInt(e.item.averageGrade)<t.starIntervals[2*(s-1)+1]?a("v-icon",{key:s,attrs:{small:"",color:"yellow darken-3"}},[t._v("star_half")]):a("v-icon",{key:s,attrs:{small:"",color:"yellow darken-3"}},[t._v("star")])]}),a("span",{staticClass:"ml-1 body-2"},[t._v(t._s(e.item.averageGrade+" 分"))]),a("span",{staticClass:"ml-1 caption grey--text"},[t._v(t._s("("+e.item.totalStudent+")"))])],2)],1)],1)],1)])],1)],1),a("v-divider",{staticClass:"my-2"})],1)}}])})],1)},A=[],D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-menu",{attrs:{"offset-y":""}},[s("v-btn",{staticClass:"ml-0",attrs:{slot:"activator",flat:""},slot:"activator"},[t._v("\n    "+t._s("排序方式："+t.sort)+"\n    "),s("v-icon",{attrs:{right:""}},[t._v("arrow_drop_down")])],1),s("v-list",t._l(["相關程度","熱門程度","分數甜度"],function(e,a){return s("v-list-tile",{key:a,on:{click:function(s){t.sort=e}}},[s("v-list-tile-title",[t._v(t._s(e))])],1)}))],1)},L=[],H={name:"CoursesSort",computed:{sort:{get:function(){return this.$store.state.sort},set:function(t){this.setSort(t)}}},methods:Object(l["a"])({},Object(o["d"])(["setSort"]))},G=H,N=(s("737c"),Object(v["a"])(G,D,L,!1,null,null,null));N.options.__file="Sort.vue";var M=N.exports,P=s("431d"),R={name:"CoursesList",data:function(){return{starIntervals:[50,60,63,67,70,73,77,80,85,90],mapDept2Img:P["b"]}},components:{"courses-sort":M},computed:Object(l["a"])({},Object(o["c"])(["results"]),{pagination:{get:function(){return this.$store.state.pagination},set:function(t){this.setPagination(t)}}}),methods:Object(l["a"])({},Object(o["d"])(["setView","setViewDialog","setPagination"]),{openViewDialog:function(t){this.setView(t),this.setViewDialog(!0)}})},T=R,z=(s("a032"),Object(v["a"])(T,E,A,!1,null,null,null));z.options.__file="List.vue";var J=z.exports,W={name:"Courses",components:{"courses-search":p,"courses-filter":I,"courses-list":J}},U=W,q=Object(v["a"])(U,a,i,!1,null,null,null);q.options.__file="Courses.vue";e["default"]=q.exports},"3af3":function(t,e,s){},"6c32":function(t,e,s){},"737c":function(t,e,s){"use strict";var a=s("d326"),i=s.n(a);i.a},8906:function(t,e,s){"use strict";var a=s("6c32"),i=s.n(a);i.a},a032:function(t,e,s){"use strict";var a=s("fb6e"),i=s.n(a);i.a},ae61:function(t,e,s){"use strict";var a=s("3af3"),i=s.n(a);i.a},d326:function(t,e,s){},fb6e:function(t,e,s){}}]);
//# sourceMappingURL=courses.355de0ed.js.map