(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["courses"],{"1a2f":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("courses-search"),i("courses-filter"),i("courses-list")],1)},a=[],r=(i("cadf"),i("551c"),i("097d"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-jumbotron",{style:{height:t.$vuetify.breakpoint.xs?"80px":"100px"},attrs:{color:"primary",gradient:"220deg,#2C3E50 -10%,#4CA1AF 70%"}},[i("v-container",{staticStyle:{"max-width":"1000px"},attrs:{"fill-height":""}},[i("v-layout",{staticStyle:{"max-width":"700px"},attrs:{"align-center":""}},[i("v-flex",[i("v-text-field",{attrs:{label:"課名／時間／老師／科號",solo:"","hide-details":"","append-icon":"search"},on:{"click:append":t.doSearch,keypress:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.doSearch(e):null}},model:{value:t.preSearch,callback:function(e){t.preSearch=e},expression:"preSearch"}})],1)],1)],1)],1)}),n=[],l=(i("386d"),i("c93e")),o=i("2f62"),c={name:"CoursesSearch",data:function(){return{preSearch:""}},computed:Object(l["a"])({},Object(o["e"])(["search"])),methods:Object(l["a"])({},Object(o["d"])(["setSearch"]),{doSearch:function(){this.preSearch.trim()!==this.search.trim()&&(this.setSearch(this.preSearch),this.$store.dispatch("doSearch"))}})},u=c,v=(i("ae61"),i("2877")),p=Object(v["a"])(u,r,n,!1,null,null,null);p.options.__file="Search.vue";var d=p.exports,m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"blue-grey lighten-5"},[i("v-container",{staticStyle:{"max-width":"1000px"}},[i("h3",{staticClass:"subheading"},[i("span",[t._v(t._s(t.results.length+" 個搜尋"))]),i("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.filter.search))]),t._v("結果\n    ")]),i("div",[i("filter-dialog",{attrs:{color:t.$vuetify.breakpoint.xs&&t.chips.length?"primary":"secondary"}}),t.$vuetify.breakpoint.xs?t._e():i("v-menu",{attrs:{"offset-y":"","close-on-content-click":!1}},[i("v-btn",{attrs:{slot:"activator",outline:"",color:"secondary"},slot:"activator"},[t._v("\n          分類\n          "),i("v-icon",{attrs:{right:""}},[t._v("arrow_drop_down")])],1),i("v-list",{attrs:{dense:""}},t._l(t.categoryOptions,function(e,s){return i("v-list-tile",{key:s},[i("v-list-tile-action",[i("v-checkbox",{attrs:{value:e[0],label:e[0]+" ("+e[1]+")"},model:{value:t.categories,callback:function(e){t.categories=e},expression:"categories"}})],1)],1)}))],1)],1),t.$vuetify.breakpoint.xs?t._e():i("div",[t._l(t.chips,function(e,s){return i("v-chip",{key:s,staticClass:"grey darken-1 white--text",class:{"ml-0":0===s}},[t._v("\n        "+t._s(e.text)+"\n        "),i("v-icon",{staticStyle:{color:"rgba(255,255,255,.7)"},attrs:{right:""},on:{click:function(i){t.closeChip(e)}}},[t._v("highlight_off")])],1)}),t.chips.length>1?i("v-btn",{staticClass:"mx-0",attrs:{small:"",flat:"",color:"primary"},on:{click:t.clearAll}},[t._v("清除全部")]):t._e()],2)])],1)},f=[],h=(i("6762"),i("2fdb"),i("8afe")),b=(i("6b54"),i("55dd"),i("456d"),i("ac6a"),i("6c7b"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{scrollable:"",fullscreen:t.$vuetify.breakpoint.xs,width:"600"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[i("v-btn",{staticClass:"ml-0 my-3",attrs:{slot:"activator",outline:"",color:t.color},slot:"activator"},[i("v-icon",{attrs:{left:"",dark:""}},[t._v("filter_list")]),t._v("\n    篩選器\n  ")],1),i("v-card",[i("v-card-title",[t._v("篩選器")]),i("v-divider"),i("v-card-text",{staticClass:"pa-0",staticStyle:{"min-height":"calc(100% - 107px)","-webkit-overflow-scrolling":"touch"}},[i("v-tabs",{attrs:{color:"cyan","slider-color":"yellow",dark:""}},[i("v-tab",[t._v("一般")]),i("v-tab",[t._v("時間")]),i("v-tab-item",[i("v-container",{staticClass:"pb-0"},[i("v-layout",{attrs:{wrap:""}},[t.$vuetify.breakpoint.xs?i("v-flex",{staticClass:"mb-3",attrs:{xs12:"",sm4:""}},[i("h4",{staticClass:"mb-2"},[t._v("類別")]),t._l(t.categoryOptions,function(e){return i("v-checkbox",{key:e[0],staticClass:"mt-0",attrs:{value:e[0],"hide-details":"",label:e[0]+" ("+e[1]+")"},model:{value:t.categories,callback:function(e){t.categories=e},expression:"categories"}})})],2):t._e(),i("v-flex",{staticClass:"mb-3",attrs:{xs12:"",sm4:""}},[i("h4",{staticClass:"mb-2"},[t._v("學分")]),t._l(t.creditOptions,function(e){return i("v-checkbox",{key:e[0],staticClass:"mt-0",attrs:{value:e[0],"hide-details":"",label:e[0]+" ("+e[1]+")"},model:{value:t.credits,callback:function(e){t.credits=e},expression:"credits"}})})],2),i("v-flex",{staticClass:"mb-3",attrs:{xs12:"",sm4:""}},[i("h4",{staticClass:"mb-2"},[t._v("授課語言")]),t._l(t.languageOptions,function(e){return i("v-checkbox",{key:e[0],staticClass:"mt-0",attrs:{value:e[0],"hide-details":"",label:e[0]+" ("+e[1]+")"},model:{value:t.languages,callback:function(e){t.languages=e},expression:"languages"}})})],2),i("v-flex",{staticClass:"mb-3",attrs:{xs12:"",sm4:""}},[i("h4",{staticClass:"mb-2"},[t._v("開課單位")]),t._l(t.departmentOptions.slice(0,t.departmentOptionLimit),function(e){return i("v-checkbox",{key:e[0],staticClass:"mt-0",attrs:{value:e[0],"hide-details":"",label:e[0]+" ("+e[1]+")"},model:{value:t.departments,callback:function(e){t.departments=e},expression:"departments"}})}),t.departmentOptionLimit<t.departmentOptions.length?i("v-btn",{staticClass:"mx-0",attrs:{small:"",flat:"",color:"primary"},on:{click:function(e){t.departmentOptionLimit+=4}}},[t._v("更多")]):t._e()],2)],1)],1)],1),i("v-tab-item",[i("v-container",[i("h4",{staticClass:"mb-2"},[t._v("空堂時間")]),t._l(14,function(e){return i("v-layout",{key:e,staticClass:"time-table",attrs:{wrap:""}},t._l(6,function(s){return i("v-flex",{key:s,attrs:{xs1:1===s,"text-xs-center":""}},[1===e||1===s?i("span",{staticStyle:{"line-height":"32px"}},[t._v("\n                  "+t._s(1===e?t.columnHeaders[s-1]:t.rowHeaders[e-1])+"\n                ")]):i("v-checkbox",{staticClass:"mt-0",attrs:{value:""+t.columnHeaders[s-1]+t.rowHeaders[e-1],"hide-details":""},model:{value:t.times,callback:function(e){t.times=e},expression:"times"}})],1)}))})],2)],1)],1)],1),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{flat:""},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")]),i("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.applyFilter}},[t._v("套用")])],1)],1)],1)}),g=[],_=["","M","T","W","R","F"],x=["","1","2","3","4","n","5","6","7","8","9","a","b","c"],y={name:"CoursesFilterDialog",props:{color:{type:String,default:"secondary"}},data:function(){return{dialog:!1,departmentOptionLimit:3,columnHeaders:_,rowHeaders:x,categories:[],credits:[],languages:[],departments:[],times:[]}},computed:Object(l["a"])({},Object(o["e"])(["filter"]),Object(o["c"])(["option"]),["categoryOptions","creditOptions","languageOptions","departmentOptions"].reduce(function(t,e){return t[e]=function(){return this.option[e]},t},{}),{dialogVisible:{get:function(){return this.dialog},set:function(t){if(t){var e=this.filter,i=e.categories,s=e.credits,a=e.languages,r=e.departments,n=e.times;this.categories=i.slice(),this.credits=s.slice(),this.languages=a.slice(),this.departments=r.slice(),this.times=n.slice()}else this.departmentOptionLimit=3;this.dialog=t}}}),methods:Object(l["a"])({},Object(o["b"])(["doFilter"]),Object(o["d"])(["setFilter"]),{applyFilter:function(){var t=this.categories,e=this.credits,i=this.languages,s=this.departments,a=this.times;this.setFilter({categories:t,credits:e,languages:i,departments:s,times:a}),this.doFilter(),this.dialogVisible=!1}})},k=y,C=(i("8906"),Object(v["a"])(k,b,g,!1,null,null,null));C.options.__file="FilterDialog.vue";var O=C.exports,w=["M","T","W","R","F"],S=["1","2","3","4","n","5","6","7","8","9","a","b","c"],j=new Array(65).fill(0).map(function(t,e){return"".concat(w[e/13>>0]).concat(S[e%13])}).reduce(function(t,e,i){return t[e]=i,t},{}),F={name:"CoursesFilter",components:{"filter-dialog":O},computed:Object(l["a"])({},Object(o["e"])(["filter","results"]),Object(o["c"])(["option"]),{categoryOptions:function(){return this.option.categoryOptions},categories:{get:function(){return this.filter.categories},set:function(t){this.setFilter({categories:t}),this.doFilter()}},chips:function(){var t=[],e=this.filter;return Object.keys(e).forEach(function(i){if("times"===i){var s=e.times;s.length&&(s.sort(function(t,e){return j[t]-j[e]}),t.push({filter:"times",text:s.toString(),value:s}))}else"credits"===i?t.push.apply(t,Object(h["a"])(e[i].map(function(t){return{filter:i,text:"".concat(t," 學分"),value:t}}))):t.push.apply(t,Object(h["a"])(e[i].map(function(t){return{filter:i,text:t,value:t}})))}),t}}),methods:Object(l["a"])({},Object(o["b"])(["doFilter"]),Object(o["d"])(["clearFilter","setFilter"]),{closeChip:function(t){var e={};e[t.filter]=Array.isArray(t.value)?this.filter[t.filter].filter(function(e){return!t.value.includes(e)}):this.filter[t.filter].filter(function(e){return t.value!==e}),this.setFilter(e),this.doFilter()},clearAll:function(){this.clearFilter(),this.doFilter()}})},$=F,V=Object(v["a"])($,m,f,!1,null,null,null);V.options.__file="Filter.vue";var A=V.exports,E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticStyle:{"max-width":"1000px"}},[s("courses-sort"),s("v-data-iterator",{staticStyle:{"max-width":"700px"},attrs:{pagination:t.pagination,"rows-per-page-text":"每頁筆數",items:t.results},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"item",fn:function(e){return s("v-card",{staticClass:"my-3 transparent",staticStyle:{cursor:"pointer"},attrs:{flat:""},nativeOn:{click:function(i){t.openViewDialog(e.item.course_no)}}},[s("v-layout",[s("v-flex",{staticStyle:{flex:"0 0 auto",width:"20%","max-width":"80px"}},[s("v-card-media",{attrs:{src:i("03e5")("./"+t.mapDept2Img[e.item.course_no.slice(5,9)]),width:"80px",height:"80px",contain:""}}),s("v-tooltip",{staticStyle:{position:"absolute",top:"-8px"},attrs:{bottom:""}},[e.item.reco?s("v-chip",{staticClass:"chip caption font-weight-medium",attrs:{slot:"activator",label:"",color:"primary","text-color":"white",small:""},slot:"activator"},[t._v("\n              推\n            ")]):t._e(),s("span",{domProps:{innerHTML:t._s("修過"+e.item.recoReasons.join("、")+"的人都考不錯")}})],1)],1),s("v-flex",[s("v-card-title",{staticClass:"py-0"},[s("div",{staticStyle:{width:"100%"}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:"",sm6:""}},[s("span",{staticClass:"subheading font-weight-medium"},[t._v(t._s(e.item.course_title_zh))]),s("div",{staticClass:"body-1"},[t._v("\n                    "+t._s(e.item.credit+" 學分．"+e.item.time+"．人數 "+e.item.enrollment+"/"+e.item.size_limit)+"\n                  ")]),s("div",{staticClass:"body-1 grey--text"},[t._v(t._s(e.item.teachers))]),s("v-layout",{attrs:{"align-center":""}})],1),t.$vuetify.breakpoint.smAndUp?s("v-flex",{attrs:{sm6:""}},[s("v-layout",{attrs:{"align-end":"",column:""}},[s("h3",[t._v(t._s(""+t.mapScore(e.item.averageGrade)))]),s("div"),s("span",{staticClass:"caption grey--text"},[t._v(t._s("("+e.item.totalStudent+" 人平均成績)"))])])],1):s("v-flex",{attrs:{xs12:""}},[s("v-layout",{attrs:{"align-center":""}},[s("span",{staticClass:"body-2"},[t._v(t._s(""+t.mapScore(e.item.averageGrade)))]),s("span",{staticClass:"ml-1 caption grey--text"},[t._v(t._s("("+e.item.totalStudent+" 人平均成績)"))])])],1)],1)],1)])],1)],1),s("v-divider",{staticClass:"my-2"})],1)}}])})],1)},D=[],L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-menu",{attrs:{"offset-y":""}},[i("v-btn",{staticClass:"ml-0",attrs:{slot:"activator",flat:""},slot:"activator"},[t._v("\n    "+t._s("排序方式："+t.sort)+"\n    "),i("v-icon",{attrs:{right:""}},[t._v("arrow_drop_down")])],1),i("v-list",t._l(["相關程度","熱門程度","分數甜度"],function(e,s){return i("v-list-tile",{key:s,on:{click:function(i){t.sort=e}}},[i("v-list-tile-title",[t._v(t._s(e))])],1)}))],1)},H=[],B={name:"CoursesSort",computed:{sort:{get:function(){return this.$store.state.sort},set:function(t){this.setSort(t)}}},methods:Object(l["a"])({},Object(o["d"])(["setSort"]))},M=B,P=(i("737c"),Object(v["a"])(M,L,H,!1,null,null,null));P.options.__file="Sort.vue";var R=P.exports,T=i("431d"),z={name:"CoursesList",data:function(){return{mapDept2Img:T["b"]}},components:{"courses-sort":R},computed:Object(l["a"])({},Object(o["c"])(["results"]),{pagination:{get:function(){return this.$store.state.pagination},set:function(t){this.setPagination(t)}}}),methods:Object(l["a"])({},Object(o["d"])(["setView","setViewDialog","setPagination"]),{openViewDialog:function(t){this.setView(t),this.setViewDialog(!0)},mapScore:function(t){for(var e=[90,85,80,77,73,70,67,63,60,50,1,0],i=["A+","A","A-","B+","B","B-","C+","C","C-","D","E","資料不足"],s=0;s<e.length;s++)if(t>=e[s])return i[s]}})},G=z,I=(i("a032"),Object(v["a"])(G,E,D,!1,null,null,null));I.options.__file="List.vue";var J=I.exports,W={name:"Courses",components:{"courses-search":d,"courses-filter":A,"courses-list":J}},U=W,q=Object(v["a"])(U,s,a,!1,null,null,null);q.options.__file="Courses.vue";e["default"]=q.exports},"3af3":function(t,e,i){},"6c32":function(t,e,i){},"737c":function(t,e,i){"use strict";var s=i("d326"),a=i.n(s);a.a},8906:function(t,e,i){"use strict";var s=i("6c32"),a=i.n(s);a.a},a032:function(t,e,i){"use strict";var s=i("fb6e"),a=i.n(s);a.a},ae61:function(t,e,i){"use strict";var s=i("3af3"),a=i.n(s);a.a},d326:function(t,e,i){},fb6e:function(t,e,i){}}]);
//# sourceMappingURL=courses.5516b8f6.js.map